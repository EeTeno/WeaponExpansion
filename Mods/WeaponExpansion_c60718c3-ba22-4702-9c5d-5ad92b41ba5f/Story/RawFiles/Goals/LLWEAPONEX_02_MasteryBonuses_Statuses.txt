Version 1
SubGoalCombiner SGC_AND
INITSECTION
KBSECTION
IF
CharacterStatusApplied(_Target, "LLWEAPONEX_MASTERYBONUS_VULNERABLE", (CHARACTERGUID)_Source)
THEN
LLWEAPONEX_Statuses_ListenForTurnEnding(_Source, (GUIDSTRING)_Target, "LLWEAPONEX_MASTERYBONUS_VULNERABLE", "");

PROC
LLWEAPONEX_Statuses_TurnEnded_OnStatusRemoved((CHARACTERGUID)_Source, (GUIDSTRING)_Target, "MARKED", (STRING)_Group)
AND
NOT DB_LLWEAPONEX_Statuses_ListenForTurnEnding(_, _Target, "MARKED", _)
THEN
ClearTag(_Target, "LLWEAPONEX_Pistol_MarkedForCrit");
EXITSECTION
ENDEXITSECTION
ParentTargetEdge "LLWEAPONEX_00_PostCC"