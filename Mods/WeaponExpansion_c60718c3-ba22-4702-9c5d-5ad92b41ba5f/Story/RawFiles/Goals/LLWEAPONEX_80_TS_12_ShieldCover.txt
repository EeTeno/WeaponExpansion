Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
IF
NRD_OnHit((CHARACTERGUID)_Target, _Attacker, _Damage, _Handle)
AND
DB_LLWEAPONEX_DualShields_Temp_Covering(_Blocker, _Target)
AND
NOT DB_LLWEAPONEX_DualShields_Temp_CounterAttackAvailable(_Blocker, _Target)
AND
NRD_StatusGetInt(_Target, _Handle, "Dodged", 0)
AND
NRD_StatusGetInt(_Target, _Handle, "Missed", 0)
AND
NRD_StatusGetInt(_Target, _Handle, "Blocked", 0)
AND
NRD_StatusGetInt(_Target, _Handle, "DamageSourceType", _DamageSourceType)
AND
LLWEAPONEX_Helper_IntMatch(_DamageSourceType, 0, 6, 7) // Ignore surfaces/statuses/GM
THEN
NRD_LuaCall("LLWEAPONEX_Ext_RedirectDamage", (STRING)_Blocker, (STRING)_Target, (STRING)_Attacker, (STRING)_Handle, "0.5");
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LLWEAPONEX_80_ToggledScripts"
