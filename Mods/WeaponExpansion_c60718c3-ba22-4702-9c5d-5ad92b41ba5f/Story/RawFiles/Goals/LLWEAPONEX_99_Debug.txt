Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

PROC
LeaderLib_Debug_RegisterDebugPlayer()
THEN
DebugBreak("[LLWEAPONEX_99_Debug:LeaderLib_Debug_RegisterDebugPlayer] Adding WeaponMaster to [DB_Origins].");
SysClear("DB_Origins", 1);
DB_Origins((CHARACTERGUID)S_Player_LLWEAPONEX_WeaponMaster_2842603d-a263-4f65-a164-4a2391afe349);

IF
RegionStarted("FJ_FortJoy_Main")
AND
QueryOnlyOnce("LLWEAPONEX_Debug_LeaderGold")
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _UserID)
AND
GetUserName(_UserID, _Username)
AND
StringContains(_Username, "Leader", 1)
THEN
CharacterAddGold(_Host, 9999);
CharacterGiveReward(_Host, "S_LLWEAPONEX_Debug_BattlemageArmor", 1);
ItemTemplateAddTo("WPN_UNIQUE_LLWEAPONEX_Blunderbuss_2H_A_507801c0-4c6b-4b39-9aed-13fcd0962dd9", _Host, 1);
ItemTemplateAddTo("EQ_UNIQUE_LLWEAPONEX_Backpack_Demolition_A_8995798f-f5b6-4e71-ae84-a29ed4ca51d7", _Host, 1);
LLWEAPONEX_WeaponMastery_Debug_CheatMastery(_Host);
CharacterAddSkill(_Host, "Projectile_LLWEAPONEX_Blunderbuss_LaunchDud");

IF
RegionStarted("TestLevel_LL_WeaponExpansion")
THEN
GoalCompleted;

IF
GameStarted("TestLevel_LL_WeaponExpansion", 1)
THEN
GoalCompleted;

IF
RegionStarted("FJ_FortJoy_Main")
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _UserID)
AND
GetUserName(_UserID, _Name)
AND
StringContains(_Name, "Debug", 1)
THEN
LLWEAPONEX_Debug_SetupDebugProfile(_Host);

PROC
LLWEAPONEX_Debug_SetupDebugProfile((CHARACTERGUID)_Host)
THEN
CharacterAddGold(_Host, 696969);
//DB_WaypointInfo(ITEMGUID_S_FTJ_UnderGroundShrine_fceee19d-145c-8a40-28fb-536fab281adc,TRIGGERGUID_S_FTJ_UndergroundShrine_Point_6985ff34-4bc6-4525-9611-afbe99b99557,"WAYP_FTJ_UndergroundShrine");
//Vending Machine Waypoint
PROC_UnlockWaypointForAll("WAYP_FTJ_UndergroundShrine");
CharacterAddTalentPoint(_Host, 2);

IF
TextEventSet("llweap_beamtest")
AND
CharacterGetHostCharacter(_Host)
THEN
PlayBeamEffect(_Host, _Host, "RS3_FX_GP_Beams_Telekinesis_01", "Dummy_BackFX_L", "Dummy_FrontFX_L");

IF
GameStarted(_Level, _)
AND
IsGameLevel(_Level, 1)
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _ID)
AND
GetUserName(_ID, _UserName)
AND
_UserName == "LaughingLeader"
THEN
GlobalSetFlag("LLWEAPONEX_Debug_LeaderModeEngaged");

IF
StoryEvent((CHARACTERGUID)_Trader, "LeaderLib_Events_OnLeaderTradeSpawned")
AND
GlobalGetFlag("LLWEAPONEX_Debug_LeaderModeEngaged", 1)
AND
CharacterGetHostCharacter(_Host)
THEN
CharacterSetCustomTradeTreasure(_Trader, "LLWEAPONEX_CheatAllWeapons");
GenerateItems(_Host, _Trader);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader_WeaponExpansion"
