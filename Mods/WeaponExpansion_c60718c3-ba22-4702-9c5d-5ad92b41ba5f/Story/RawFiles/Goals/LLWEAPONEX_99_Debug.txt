Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

PROC
LeaderLib_Debug_RegisterDebugPlayer()
THEN
DebugBreak("[LLWEAPONEX_99_Debug:LeaderLib_Debug_RegisterDebugPlayer] Adding WeaponMaster to [DB_Origins].");
SysClear("DB_Origins", 1);
DB_Origins((CHARACTERGUID)S_Player_LLWEAPONEX_WeaponMaster_2842603d-a263-4f65-a164-4a2391afe349);

DB_OriginRecruitmentDialog((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6, "LLWEAPONEX_Debug_Recruitment");
DB_OriginInPartyDialog((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6, "LLWEAPONEX_Debug_InParty");
DB_OriginNPCAlignment((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6, "Generic_Companions_1");
DB_GLO_PartyMembers_DefaultFaction((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6, "Good NPC");
DB_OriginProfessionTags((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6,"SOLDIER");
DB_OriginProfessionTags((CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6,"OUTLAW");

DB_OriginRecruitmentDialog(S_Player_LLWEAPONEX_Harken_e446752a-13cc-4a88-a32e-5df244c90d8b, "LLWEAPONEX_Debug_Recruitment");
DB_OriginInPartyDialog(S_Player_LLWEAPONEX_Harken_e446752a-13cc-4a88-a32e-5df244c90d8b, "LLWEAPONEX_Debug_InParty");
DB_OriginNPCAlignment(S_Player_LLWEAPONEX_Harken_e446752a-13cc-4a88-a32e-5df244c90d8b, "Generic_Companions_2");
DB_GLO_PartyMembers_DefaultFaction(S_Player_LLWEAPONEX_Harken_e446752a-13cc-4a88-a32e-5df244c90d8b, "Good NPC");
DB_OriginProfessionTags(S_Player_LLWEAPONEX_Harken_e446752a-13cc-4a88-a32e-5df244c90d8b,"BARBARIAN");
//DB_OriginRecruitmentDialog_Region("TestLevel_LL_WeaponExpansion", (CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6, "");
//DB_OriginRecruitmentLocation_Region("TestLevel_LL_WeaponExpansion",(CHARACTERGUID)S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6,(TRIGGERGUID)S_TUT_Origin_Sebille_Start_Point_14462739-fdbe-4704-aaf1-655e240f613c,"State_Tutorial");

/*
PROC
ProcSetupGenericOrigin((CHARACTERGUID)S_Player_LLWEAPONEX_WeaponMaster_2842603d-a263-4f65-a164-4a2391afe349)
THEN
PROC_GLO_PartyMembers_Add(S_Player_LLWEAPONEX_Korvash_3f20ae14-5339-4913-98f1-24476861ebd6,S_Player_LLWEAPONEX_WeaponMaster_2842603d-a263-4f65-a164-4a2391afe349);
*/

IF
RegionStarted("FJ_FortJoy_Main")
AND
QueryOnlyOnce("LLWEAPONEX_Debug_LeaderGold")
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _UserID)
AND
GetUserName(_UserID, _Username)
AND
StringContains(_Username, "Leader", 1)
THEN
CharacterAddGold(_Host, 9999);
CharacterGiveReward(_Host, "S_LLWEAPONEX_Debug_BattlemageArmor", 1);
ItemTemplateAddTo("WPN_UNIQUE_LLWEAPONEX_Firearm_Blunderbuss_2H_A_507801c0-4c6b-4b39-9aed-13fcd0962dd9", _Host, 1);
ItemTemplateAddTo("EQ_UNIQUE_LLWEAPONEX_Backpack_Demolition_A_8995798f-f5b6-4e71-ae84-a29ed4ca51d7", _Host, 1);
LLWEAPONEX_WeaponMastery_Debug_CheatMastery(_Host);
CharacterAddSkill(_Host, "Projectile_LLWEAPONEX_Blunderbuss_LaunchDud");

IF
RegionStarted("TestLevel_LL_WeaponExpansion")
THEN
SysActivateGoal("LLWEAPONEX_99_Debug_TestLevel");
SysActivateGoal("LLWEAPONEX_24_Campaign_Start");

IF
GameStarted("TestLevel_LL_WeaponExpansion", 1)
THEN
SysActivateGoal("LLWEAPONEX_99_Debug_TestLevel");
SysActivateGoal("LLWEAPONEX_24_Campaign_Start");

IF
RegionStarted("FJ_FortJoy_Main")
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _UserID)
AND
GetUserName(_UserID, _Name)
AND
StringContains(_Name, "Debug", 1)
THEN
LLWEAPONEX_Debug_SetupDebugProfile(_Host);

PROC
LLWEAPONEX_Debug_SetupDebugProfile((CHARACTERGUID)_Host)
THEN
CharacterAddGold(_Host, 696969);
//DB_WaypointInfo(ITEMGUID_S_FTJ_UnderGroundShrine_fceee19d-145c-8a40-28fb-536fab281adc,TRIGGERGUID_S_FTJ_UndergroundShrine_Point_6985ff34-4bc6-4525-9611-afbe99b99557,"WAYP_FTJ_UndergroundShrine");
//Vending Machine Waypoint
PROC_UnlockWaypointForAll("WAYP_FTJ_UndergroundShrine");
CharacterAddTalentPoint(_Host, 2);

IF
TextEventSet("llweap_beamtest")
AND
CharacterGetHostCharacter(_Host)
THEN
PlayBeamEffect(_Host, _Host, "RS3_FX_GP_Beams_Telekinesis_01", "Dummy_BackFX_L", "Dummy_FrontFX_L");

IF
GameStarted(_Level, _)
AND
IsGameLevel(_Level, 1)
AND
CharacterGetHostCharacter(_Host)
AND
CharacterGetReservedUserID(_Host, _ID)
AND
GetUserName(_ID, _UserName)
AND
_UserName == "LaughingLeader"
THEN
GlobalSetFlag("LLWEAPONEX_Debug_LeaderModeEngaged");

IF
StoryEvent((CHARACTERGUID)_Trader, "LeaderLib_Events_OnLeaderTradeSpawned")
AND
GlobalGetFlag("LLWEAPONEX_Debug_LeaderModeEngaged", 1)
AND
CharacterGetHostCharacter(_Host)
THEN
CharacterSetCustomTradeTreasure(_Trader, "LLWEAPONEX_CheatAllWeapons");
GenerateItems(_Host, _Trader);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader_WeaponExpansion"
