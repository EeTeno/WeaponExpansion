Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
IF
CharacterStartAttackPosition(_x, _y, _z, _, _Source)
AND
ObjectGetFlag(_Source, "LLWEAPONEX_BattleBooks_SpellScrollEquipped", 1)
//AND
//LeaderLib_Roll_QRY(300, 999)
THEN
LLWEAPONEX_BattleBooks_SpellScroll_Fire(_Source, _x, _y, _z, 1000);

IF
CharacterStatusAttempt(_Char, "SUMMONING", _)
AND
IsTagged(_Char, "TOTEM", 1)
AND
CharacterGetOwner(_Char, _Owner)
AND
ObjectGetFlag(_Owner, "LLWEAPONEX_BattleBooks_SpellScrollEquipped", 1)
AND
GetVarFloat3(_Owner, "LLWEAPONEX_Battlebooks_SpellScroll_AttackPosition", _x, _y, _z)
THEN
TeleportToPosition(_Char, _x, _y, _z, "", 0, 1);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LLWEAPONEX_80_ToggledScripts"