Version 1
SubGoalCombiner SGC_AND
INITSECTION
LLWEAPONEX_ToggledScripts_RegisterOnce();
KBSECTION
PROC
LLWEAPONEX_ToggledScripts_RegisterOnce()
AND
LLWEAPONEX_ToggleSettings_QRY_RegisterOnce_Tag("LLWEAPONEX_80_01_WM_Katana", "LLWEAPONEX_Katana")
THEN
GoalCompleted;

IF
ObjectTurnEnded((CHARACTERGUID)_Source)
AND
DB_LLWEAPONEX_Katanas_ListenForTurnEnding(_Source, _Target)
THEN
NOT DB_LLWEAPONEX_Katanas_ListenForTurnEnding(_Source, _Target);
RemoveStatus(_Target, "LLWEAPONEX_KATANA_FINISHER");

IF
CharacterStatusRemoved(_Target, "LLWEAPONEX_KATANA_FINISHER", _)
AND
DB_LLWEAPONEX_Katanas_ListenForTurnEnding(_Source, _Target)
THEN
NOT DB_LLWEAPONEX_Katanas_ListenForTurnEnding(_Source, _Target);

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LLWEAPONEX_80_ToggledScripts"