Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
QRY
LLWEAPONEX_QRY_ItemIsWeapon((ITEMGUID)_Item)
AND
_Item != NULL_00000000-0000-0000-0000-000000000000
AND
GetTemplate(_Item, _Template)
AND
StringContains(_Template, "Shield", 0)
AND
StringContains(_Template, "WPN_", 1)
THEN
DB_NOOP(1);

QRY
LLWEAPONEX_QRY_WeaponTypeEquipped((CHARACTERGUID)_Player, (STRING)_WeaponType)
AND
CharacterGetEquippedItem(_Player, "Weapon", _Item)
AND
IsTagged(_Item, _WeaponType, 1)
THEN
DB_NOOP(1);

QRY
LLWEAPONEX_QRY_WeaponTypeEquipped((CHARACTERGUID)_Player, (STRING)_WeaponType)
AND
CharacterGetEquippedItem(_Player, "Shield", _Item)
AND
IsTagged(_Item, _WeaponType, 1)
THEN
DB_NOOP(1);

//IsTagged(_Item, "LLWEAPONEX_WeaponMasteryComplete", 0)
QRY
LLWEAPONEX_QRY_WeaponTypeMasteryEnabled((CHARACTERGUID)_Player, (STRING)_WeaponType)
AND
CharacterGetEquippedItem(_Player, "Weapon", _Item)
AND
IsTagged(_Item, _WeaponType, 1)
AND
IsTagged(_Item, "LLWEAPONEX_WeaponMasteryEnabled", 1)
THEN
DB_NOOP(1);

QRY
LLWEAPONEX_QRY_WeaponTypeMasteryEnabled((CHARACTERGUID)_Player, (STRING)_WeaponType)
AND
CharacterGetEquippedItem(_Player, "Shield", _Item)
AND
IsTagged(_Item, _WeaponType, 1)
AND
IsTagged(_Item, "LLWEAPONEX_WeaponMasteryEnabled", 1)
THEN
DB_NOOP(1);

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader_WeaponExpansion"